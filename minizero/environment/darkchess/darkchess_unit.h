#ifndef MINIZERO_ENVIRONMENT_DARKCHESS_DARKCHESS_UNIT_H_
#define MINIZERO_ENVIRONMENT_DARKCHESS_DARKCHESS_UNIT_H_

#include <map>
#include <string>
#include <utility>
#include <vector>

namespace minizero::env::darkchess {

using DarkChessBitboard = uint64_t;
using Move = std::vector<int>; // {src, dst, src_chess, dst_chess}

const std::string kDarkChessName = "darkchess";
const int kDarkChessNumPlayer = 2;
const int kDarkChessActionSize = 352;
const int kDarkChessBoardHeight = 8;
const int kDarkChessBoardWidth = 4;

const std::array<char, 14> kDarkChessChessName = {
    'K',
    'G',
    'M',
    'R',
    'N',
    'C',
    'P',
    'k',
    'g',
    'm',
    'r',
    'n',
    'c',
    'p',
};

// 352 個 actions 對應的動作
const std::array<std::pair<int, int>, kDarkChessActionSize> kDarkChessActionMap = {{
    {28, 28},
    {28, 24},
    {28, 20},
    {28, 16},
    {28, 12},
    {28, 8},
    {28, 4},
    {28, 0},
    {28, 29},
    {28, 30},
    {28, 31},
    {29, 29},
    {29, 25},
    {29, 21},
    {29, 17},
    {29, 13},
    {29, 9},
    {29, 5},
    {29, 1},
    {29, 28},
    {29, 30},
    {29, 31},
    {30, 30},
    {30, 26},
    {30, 22},
    {30, 18},
    {30, 14},
    {30, 10},
    {30, 6},
    {30, 2},
    {30, 28},
    {30, 29},
    {30, 31},
    {31, 31},
    {31, 27},
    {31, 23},
    {31, 19},
    {31, 15},
    {31, 11},
    {31, 7},
    {31, 3},
    {31, 28},
    {31, 29},
    {31, 30},
    {24, 24},
    {24, 28},
    {24, 20},
    {24, 16},
    {24, 12},
    {24, 8},
    {24, 4},
    {24, 0},
    {24, 25},
    {24, 26},
    {24, 27},
    {25, 25},
    {25, 29},
    {25, 21},
    {25, 17},
    {25, 13},
    {25, 9},
    {25, 5},
    {25, 1},
    {25, 24},
    {25, 26},
    {25, 27},
    {26, 26},
    {26, 30},
    {26, 22},
    {26, 18},
    {26, 14},
    {26, 10},
    {26, 6},
    {26, 2},
    {26, 24},
    {26, 25},
    {26, 27},
    {27, 27},
    {27, 31},
    {27, 23},
    {27, 19},
    {27, 15},
    {27, 11},
    {27, 7},
    {27, 3},
    {27, 24},
    {27, 25},
    {27, 26},
    {20, 20},
    {20, 28},
    {20, 24},
    {20, 16},
    {20, 12},
    {20, 8},
    {20, 4},
    {20, 0},
    {20, 21},
    {20, 22},
    {20, 23},
    {21, 21},
    {21, 29},
    {21, 25},
    {21, 17},
    {21, 13},
    {21, 9},
    {21, 5},
    {21, 1},
    {21, 20},
    {21, 22},
    {21, 23},
    {22, 22},
    {22, 30},
    {22, 26},
    {22, 18},
    {22, 14},
    {22, 10},
    {22, 6},
    {22, 2},
    {22, 20},
    {22, 21},
    {22, 23},
    {23, 23},
    {23, 31},
    {23, 27},
    {23, 19},
    {23, 15},
    {23, 11},
    {23, 7},
    {23, 3},
    {23, 20},
    {23, 21},
    {23, 22},
    {16, 16},
    {16, 28},
    {16, 24},
    {16, 20},
    {16, 12},
    {16, 8},
    {16, 4},
    {16, 0},
    {16, 17},
    {16, 18},
    {16, 19},
    {17, 17},
    {17, 29},
    {17, 25},
    {17, 21},
    {17, 13},
    {17, 9},
    {17, 5},
    {17, 1},
    {17, 16},
    {17, 18},
    {17, 19},
    {12, 12},
    {12, 28},
    {12, 24},
    {12, 20},
    {12, 16},
    {12, 8},
    {12, 4},
    {12, 0},
    {12, 13},
    {12, 14},
    {12, 15},
    {13, 13},
    {13, 29},
    {13, 25},
    {13, 21},
    {13, 17},
    {13, 9},
    {13, 5},
    {13, 1},
    {13, 12},
    {13, 14},
    {13, 15},
    {14, 14},
    {14, 30},
    {14, 26},
    {14, 22},
    {14, 18},
    {14, 10},
    {14, 6},
    {14, 2},
    {14, 12},
    {14, 13},
    {14, 15},
    {15, 15},
    {15, 31},
    {15, 27},
    {15, 23},
    {15, 19},
    {15, 11},
    {15, 7},
    {15, 3},
    {15, 12},
    {15, 13},
    {15, 14},
    {8, 8},
    {8, 28},
    {8, 24},
    {8, 20},
    {8, 16},
    {8, 12},
    {8, 4},
    {8, 0},
    {8, 9},
    {8, 10},
    {8, 11},
    {9, 9},
    {9, 29},
    {9, 25},
    {9, 21},
    {9, 17},
    {9, 13},
    {9, 5},
    {9, 1},
    {9, 8},
    {9, 10},
    {9, 11},
    {10, 10},
    {10, 30},
    {10, 26},
    {10, 22},
    {10, 18},
    {10, 14},
    {10, 6},
    {10, 2},
    {10, 8},
    {10, 9},
    {10, 11},
    {11, 11},
    {11, 31},
    {11, 27},
    {11, 23},
    {11, 19},
    {11, 15},
    {11, 7},
    {11, 3},
    {11, 8},
    {11, 9},
    {11, 10},
    {4, 4},
    {4, 28},
    {4, 24},
    {4, 20},
    {4, 16},
    {4, 12},
    {4, 8},
    {4, 0},
    {4, 5},
    {4, 6},
    {4, 7},
    {5, 5},
    {5, 29},
    {5, 25},
    {5, 21},
    {5, 17},
    {5, 13},
    {5, 9},
    {5, 1},
    {5, 4},
    {5, 6},
    {5, 7},
    {6, 6},
    {6, 30},
    {6, 26},
    {6, 22},
    {6, 18},
    {6, 14},
    {6, 10},
    {6, 2},
    {6, 4},
    {6, 5},
    {6, 7},
    {7, 7},
    {7, 31},
    {7, 27},
    {7, 23},
    {7, 19},
    {7, 15},
    {7, 11},
    {7, 3},
    {7, 4},
    {7, 5},
    {7, 6},
    {0, 0},
    {0, 28},
    {0, 24},
    {0, 20},
    {0, 16},
    {0, 12},
    {0, 8},
    {0, 4},
    {0, 1},
    {0, 2},
    {0, 3},
    {1, 1},
    {1, 29},
    {1, 25},
    {1, 21},
    {1, 17},
    {1, 13},
    {1, 9},
    {1, 5},
    {1, 0},
    {1, 2},
    {1, 3},
    {2, 2},
    {2, 30},
    {2, 26},
    {2, 22},
    {2, 18},
    {2, 14},
    {2, 10},
    {2, 6},
    {2, 0},
    {2, 1},
    {2, 3},
    {3, 3},
    {3, 31},
    {3, 27},
    {3, 23},
    {3, 19},
    {3, 15},
    {3, 11},
    {3, 7},
    {3, 0},
    {3, 1},
    {3, 2},
}};

const std::map<char, int> kDarkChessValue = {
    {'K', 7}, // 帥
    {'k', 7}, // 將
    {'G', 6}, // 仕
    {'g', 6}, // 士
    {'M', 5}, // 相
    {'m', 5}, // 象
    {'R', 4}, // 俥
    {'r', 4}, // 車
    {'N', 3}, // 傌
    {'n', 3}, // 馬
    {'C', 2}, // 炮
    {'c', 2}, // 包
    {'P', 1}, // 兵
    {'p', 1}, // 卒
};

} // namespace minizero::env::darkchess

#endif  // MINIZERO_ENVIRONMENT_DARKCHESS_DARKCHESS_UNIT_H_
